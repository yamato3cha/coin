<!DOCTYPE html>
<html>
<meta charset="UTF-8">
<title>Coin Chart List</title>
<head>
	<script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
	<!--script type="text/javascript" src="coinchartlist.js"></script-->
	<script type="text/javascript">		
		var w = 420;
		var h = 261;	
		var m = "KRW";
		var e = "BITHUMB:"; //KORBIT:
		var d = new Array("1","5","30","60","D","W","M");
		
		var c = fetch('https://yamato3cha.github.io/coin/list.txt').then(function(response) {
			return response.text()
		}).then(function (text) {			
			text.split('\n');
		})
		console.log(c[0]);
		/*
		var c = new Array();
		c[0] = e + "BTC" + m;		    
		c[1] = e + "ETH" + m;
		c[2] = e + "XRP" + m;
		c[3] = e + "BCH" + m;
		c[4] = e + "LTC" + m;
		c[5] = e + "EOS" + m;
		c[6] = e + "XLM" + m;
		c[7] = e + "ADA" + m;
		c[8] = e + "TRX" + m;
		c[9] = e + "XMR" + m;
		*/
		function chart(w,h,c,d)
		{
			document.write("<table>");
			for(var i=0; i<c.length; i++)
			{
				document.write("<tr>");
				for(var j=0; j<d.length; j++)
				{
					document.write("<td>");
					document.write("<div id='" + c[i] + ":" + d[j] + "''>");
					new TradingView.widget({
					"width": w,
					"height": h,
					"symbol": c[i],
					"interval": d[j],
					"timezone": "Etc/UTC",
					"theme": "Light",
					"style": "1",
					"locale": "kr",
					"toolbar_bg": "#f1f3f6",
					"enable_publishing": false,
					"allow_symbol_change": true,
					"container_id": c[i] + ":" + d[j]
					});
					document.write("</td>");
				}				
				document.write("</tr>");
			}
			document.write("</table>");
		}
		window.onload = chart(w,h,c,d);		
	</script>	
</head>
<body>
</body>
</html>
